\documentclass[../../main.tex]{subfiles}

\begin{document}
\subsection{Theorem 4.15}
\begin{wts}
Urysohn's Lemma. Let $X$ be a normal space, if $A$ and $B$ are disjoint closed subsets of $X$, then there exists a $f\in C(X,[0,1])$ such that $f=0$ on $A$ and $f=1$ on $B$.
\end{wts}
\begin{proof}
Let $r\in \Delta$ be as in Lemma 4.14, and set $U_r$ accordingly except for $U_1=X$. Define 
\[
f(x) = \inf\{k:x\in U_k\}
\]
Let us also write $W=\{k:x\in U_k\}$, Then for every $x\in A$ we have $f(x)=0$, since by the construction of the 'onion' function in Lemma 4.14, for each $r\in \Delta\cap(0,1)$, 
\[
x\in A\subseteq U_r\implies f(x)\leq r
\]
Since $r>0$ is arbitrary, and $0\in W$, we can use a classic $\varepsilon$ argument. If $f(x)>0$ then there exists some $0<r<f(x)$ by density of the dyadic rationals on the line, if $f(x)<0$ then this implies that there exists some $f(x)<r<0$ such that $x\in U_r$, but no $r\in \Delta$ can be negative, hence $f(x)=0$.\\

Now, for every $x\in B$, since $A$ and $B$ are disjoint, and $A\subseteq U_r\subseteq B^c$, then for every $x\in B$ means that $x$ is not a member of any $U_r$, but we set $U_1=X$. Since none of the $r\in(0,1)$ is a member of the set we are taking the infimum, and $x\in U_1=X$. The $\varepsilon$ argument follows: suppose for every $\varepsilon>0$, $(1-\varepsilon)\notin W$, and $1\in W$, then $f(x)=1$.\\

Since $x\in U_1=X$, for every $x\in X$, $f(x)\leq 1$, and $f(x)$ cannnot be negative as $r>0$ for every $r\in \Delta$. So $0\leq f(x)\leq 1$. Now we have to show that this $f(x)$ is continuous. The remainder of the proof is divided into two parts. We would like to show that the inverse images of the half lines are open in $X$. So $f^{-1}((-\infty,\alpha))\in \mathcal{T}$ and $f^{-1}((\alpha,+\infty))\in\mathcal{T}$.\\

Suppose that $f(x)<\alpha$, so $\inf W<\alpha$, and using the density of $\Delta$, there exists an $r$, $f(x)<r<\alpha$ such that $x\in U_r$ such that $x\in \bigcup_{r<\alpha}U_r$. So $f^{-1}((-\infty,\alpha))\subseteq \bigcup_{r<\alpha}U_r$.\\

Fix an element $x\in\bigcup_{r<\alpha}U_r$, this induces an $r$ such that $\inf W\leq r<\alpha$ therefore $f(x)<\alpha$, and $\bigcup_{r<\alpha}U_r\subseteq f^{-1}((-\infty,\alpha))$.

For the second case, suppose that $f(x)>\alpha$, then $\inf W>\alpha$, and there exists an $r$ (by density) such that $\inf W>r>\alpha$ such that for every $k\in W$, $k\neq r$. Therefore $x\notin U_r$, but by density again, and using the property of the onion function: for every $s<r$ we get $\overline{U_s}\subseteq U_r$, taking complements (which reverses the estimate) â€” we have $x\notin \overline{U_s}$, but $\left(\overline{U_s}\right)^c$ is open in $X$. It immediately follows that
\[
x\in f^{-1}((\alpha,+\infty))\implies x\in (U_r)^c\subseteq \left(\overline{U_s}\right)^c\subseteq\bigcup_{s>\alpha}\left(\overline{U_s}\right)^c
\]
So $f^{-1}((\alpha,+\infty))$ is a subset of $\bigcup_{s>\alpha}\left(\overline{U_s}\right)^c$. To show the reverse, fix an element $x$ in the union, then this induces some $x\in \left(\overline{U_s}\right)^c\subseteq (U_s)^c$. Then for this $s>\alpha$, $(-\infty,s)$ contains no elements of $W$. This is because for every $p<s$ implies that $(U_s)^c\subseteq(U_p)^c$, so $p\notin W$. Our chosen $s$ is a lower bound for $W$, and $\alpha<s\leq\inf W =f(x)$.\\

Since all of the inverse images from the generating set of $(\mathbb{R},\mathcal{T}_{\mathbb{R}})$ are open in $X$, using Theorem 4.9 finishes the proof.
\end{proof}
\end{document}